<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Add / Edit Product</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 30px;
        }

        h2 {
            margin-bottom: 20px;
        }

        form {
            width: 420px;
        }

        label {
            font-weight: bold;
            margin-top: 10px;
            display: block;
        }

        input, textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 12px;
            box-sizing: border-box;
        }

        button {
            padding: 10px;
            width: 100%;
            background: #16a34a;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
        }

        button:hover {
            background: #15803d;
        }
    </style>
</head>

<body>

<h2 th:text="${product.id == null ? 'Add New Product' : 'Edit Product'}"></h2>

<!-- âœ… enctype is MUST for file upload -->
<form th:action="@{/admin/products/save}"
      method="post"
      enctype="multipart/form-data"
      th:object="${product}">

    <!-- ðŸ”‘ Hidden ID (for edit mode) -->
    <input type="hidden" th:field="*{id}">

    <!-- ===== BASIC INFO ===== -->

    <label>Product Name</label>
    <input type="text"
           th:field="*{name}"
           placeholder="Product Name"
           required>

    <label>Description</label>
    <textarea th:field="*{description}"
              placeholder="Product Description"></textarea>

    <!-- ===== PRICING ===== -->

    <label>Price (MRP without GST)</label>
    <input type="number"
           th:field="*{price}"
           placeholder="Enter Price"
           step="0.01"
           required>

    <label>GST %</label>
    <input type="number"
           th:field="*{gstPercent}"
           placeholder="Enter GST % (e.g. 5, 12, 18)"
           min="0"
           max="28"
           required>

    <!-- ===== INVENTORY ===== -->

    <label>Stock</label>
    <input type="number"
           th:field="*{stock}"
           placeholder="Available Stock"
           min="0"
           required>

    <!-- ===== IMAGES ===== -->

    <label>Product Image (Card Image)</label>
    <input type="file"
           name="image"
           accept="image/*">

    <label>Know More Image (Detail View)</label>
    <input type="file"
           name="knowMoreImage"
           accept="image/*">

    <br>

    <button type="submit">Save Product</button>
</form>

</body>
</html>
